extends ./layout/_layout.jade

block title
  title 議程｜JSDC 2016

block content
  include ./partials/_nav

  main.agenda-page

    section#sub-header
      .container
        .inner
          header.major.text-center
            h2 JSDC 2016 議程

    section#agenda-list
      include ./data


      .container
        .agenda-container
          #tabs
            ul
              li
                a(href='#day_1') Day 1 ( 10 / 22 )
              li
                a(href='#day_2') Day 2 ( 10 / 23 )

            each speakers, dayIndex in agendas
              div(id="#{dayIndex}")
                table.table.table-hover.mobile-visible
                  thead
                    tr
                      th(style="width:10%; min-width:80px") 時間
                      th(style="width:45%") 議程

                  tbody
                    each speaker in speakers
                      case speaker.type
                        when "break"
                          tr
                            td
                              | #{speaker.startTime}
                              br
                              | |
                              br
                              | #{speaker.endTime}
                            td.break #{speaker.agendaTitle}

                        when "single"
                          - var name = speaker.name?speaker.name:"";
                          - var image = speaker.image?speaker.image:"/dist/images/jsdc-mascot-150.jpg";
                          - var slide = speaker.slide?speaker.slide:"";
                          - var youtube = speaker.youtube?speaker.youtube:"";

                          tr
                            td
                              | #{speaker.startTime}
                              br
                              | |
                              br
                              | #{speaker.endTime}
                            td.colspan
                              img.avatar(style="display: block; margin: 0 auto;", src="#{image}", alt="#{name}")
                              h6.mobile-room
                                i.fa.fa-map-marker
                                | 全場聯播
                              .speaker
                                h6= speaker.agendaTitle
                                if name !== ""
                                  p by #{name}
                                if slide !== ""
                                  a(href="#{slide}" target='_blank').label.label-info Slide
                                if youtube !== ""
                                  a(href="#{youtube}" target='_blank').label.label-danger Youtube

                        when "multiple"
                          - var nameA = speaker.name_A?speaker.name_A:"";
                          - var nameB = speaker.name_B?speaker.name_B:"";
                          - var imageA = speaker.image_A?speaker.image_A:"/dist/images/jsdc-mascot-150.jpg";
                          - var imageB = speaker.image_B?speaker.image_B:"/dist/images/jsdc-mascot-150.jpg";
                          - var slideA = speaker.slide_A?speaker.slide_A:"";
                          - var slideB = speaker.slide_B?speaker.slide_B:"";
                          - var youtubeA = speaker.youtube_A?speaker.youtube_A:"";
                          - var youtubeB = speaker.youtube_B?speaker.youtube_B:"";

                          tr
                            td
                              | #{speaker.startTime}
                              br
                              | |
                              br
                              | #{speaker.endTime}
                            td.colspan
                              div
                                img.avatar(style="display: block; margin: 0 auto;", src="#{imageA}", alt="#{nameA}")
                                h6.mobile-room
                                  i.fa.fa-map-marker
                                  | 國際會議廳 R0
                                .speaker
                                  h6= speaker.agendaTitle_A
                                  if nameA !== ""
                                    p by #{nameA}
                                  if slideA !== ""
                                    a(href="#{slideA}" target='_blank').label.label-info Slide
                                  if youtubeA !== ""
                                    a(href="#{youtubeA}" target='_blank').label.label-danger Youtube

                              .dividing-line

                              div
                                img.avatar(style="display: block; margin: 0 auto;", src="#{imageB}", alt="#{nameB}")
                                h6.mobile-room
                                  i.fa.fa-map-marker
                                  | 第二會議廳 R2
                                .speaker
                                  h6= speaker.agendaTitle_B
                                  if nameB !== ""
                                    p by #{nameB}
                                  if slideB !== ""
                                    a(href="#{slideB}" target='_blank').label.label-info Slide
                                  if youtubeB !== ""
                                    a(href="#{youtubeB}" target='_blank').label.label-danger Youtube


                table.table.table-hover.hidden-xs
                  thead
                    tr
                      th(style="width:10%; min-width:80px") 時間
                      th(style="width:45%") 國際會議廳 R0
                      th(style="width:45%") 第二會議廳 R2

                  tbody
                    each speaker in speakers
                      case speaker.type
                        when "break"
                          tr
                            td
                              | #{speaker.startTime}
                              br
                              | |
                              br
                              | #{speaker.endTime}
                            td.break(colspan="2") #{speaker.agendaTitle}

                        when "single"
                          - var name = speaker.name?speaker.name:"";
                          - var image = speaker.image?speaker.image:"/dist/images/jsdc-mascot-150.jpg";
                          - var slide = speaker.slide?speaker.slide:"";
                          - var youtube = speaker.youtube?speaker.youtube:"";
                          - var description = speaker.description?speaker.description:"";

                          tr
                            td
                              | #{speaker.startTime}
                              br
                              | |
                              br
                              | #{speaker.endTime}
                            td.colspan.hint--top.hint--large(colspan="2" aria-label="#{description}")
                              img.avatar(src="#{image}", alt="#{name}")
                              .speaker
                                h6= speaker.agendaTitle
                                if name !== ""
                                  p by #{name}
                                if slide !== ""
                                  a(href="#{slide}" target='_blank').label.label-info Slide
                                if youtube !== ""
                                  a(href="#{youtube}" target='_blank').label.label-danger Youtube

                        when "multiple"
                          - var nameA = speaker.name_A?speaker.name_A:"";
                          - var nameB = speaker.name_B?speaker.name_B:"";
                          - var imageA = speaker.image_A?speaker.image_A:"/dist/images/jsdc-mascot-150.jpg";
                          - var imageB = speaker.image_B?speaker.image_B:"/dist/images/jsdc-mascot-150.jpg";
                          - var slideA = speaker.slide_A?speaker.slide_A:"";
                          - var slideB = speaker.slide_B?speaker.slide_B:"";
                          - var youtubeA = speaker.youtube_A?speaker.youtube_A:"";
                          - var youtubeB = speaker.youtube_B?speaker.youtube_B:"";
                          - var descriptionA = speaker.description_A?speaker.description_A:"";
                          - var descriptionB = speaker.description_B?speaker.description_B:"";

                          tr
                            td
                              | #{speaker.startTime}
                              br
                              | |
                              br
                              | #{speaker.endTime}

                            td.colspan.hint--top.hint--large(aria-label="#{descriptionA}")
                              img.avatar(style="display: block; margin: 0 auto;", src="#{imageA}", alt="#{nameA}")
                              .speaker
                                h6= speaker.agendaTitle_A
                                if nameA !== ""
                                  p by #{nameA}
                                if slideA !== ""
                                  a(href="#{slideA}" target='_blank').label.label-info Slide
                                if youtubeA !== ""
                                  a(href="#{youtubeA}" target='_blank').label.label-danger Youtube

                            td.colspan.hint--top.hint--large.aaa(aria-label="#{descriptionB}")
                              img.avatar(style="display: block; margin: 0 auto;", src="#{imageB}", alt="#{nameB}")
                              .speaker
                                h6= speaker.agendaTitle_B
                                if nameB !== ""
                                  p by #{nameB}
                                if slideB !== ""
                                  a(href="#{slideB}" target='_blank').label.label-info Slide
                                if youtubeB !== ""
                                  a(href="#{youtubeB}" target='_blank').label.label-danger Youtube

    script.
      (function($) {

        $('#nav-agenda').addClass('active');

        if ($('#agenda-list').length){
          $(document).scroll(function () {
            var dist = $('#agenda-list').offset().top;
            var y = $(this).scrollTop();

            if (y > dist) {
                $('.navbar').addClass('block');
            } else {
                $('.navbar').removeClass('block');
            }
          });
        }
      })(jQuery);
